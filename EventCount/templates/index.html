<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Event Count Down</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>
    <div class="container mt-4">
        <div class="card shadow-lg bg-danger bg-gradient">
            <h1 class="text-center text-white mt-3 ">Event Countdown Timer</h1><br>
            <div class="card-timer text-center shadow-lg p-4 mb-5 mt-5 m-auto bg-info rounded">
                <h2 class="card-timer-event fw-bold">{{time.name}}</h2>
                <h3 class="card-timer-time mt-4">Time Remaining:</h2>
                <div class="card-timer-countdown text-danger fw-bold fs-3" id="countdown">{{time.hours|stringformat:"02d" }}:{{time.minutes|stringformat:"02d" }}:{{time.seconds|stringformat:"02d" }}</div>
            </div>
        </div>
    </div>

    <script>
        function updateTimer(){
            var hours =parseInt(document.getElementById('countdown').textContent.split(":")[0]);
            var minutes =parseInt(document.getElementById('countdown').textContent.split(":")[1]);
            var seconds =parseInt(document.getElementById('countdown').textContent.split(":")[2]);

            if (seconds>0){
                seconds--;
            }
            else if(minutes>0){
                minutes--;
                seconds = 59;
            }
            else if(hours>0){
                hours--;
                minutes=59;
                seconds=59;
            }
            else{
                console.log("Time calculation done");
            }

        //Updating timer
        document.getElementById('countdown').textContent =
            (hours < 10 ? '0' : '') + hours + ':' +
            (minutes < 10 ? '0' : '') + minutes + ':' +
            (seconds < 10 ? '0' : '') + seconds;
        }
        //Timer updates every second
        setInterval(updateTimer, 1000);
    </script>
</body>
</html>